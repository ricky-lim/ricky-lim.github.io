<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="icon" type="image/x-icon" href="../../static/favicon.ico">
  <link rel="apple-touch-icon" href="../../static/favicon.png">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../../static/style.css">
  <link rel="stylesheet" href="../../static/search.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=0.6, user-scalable=no">

  <title>Bridge between Intel and Apple — kutubuku</title>

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="container-fluid">
        <div class="d-flex w-100 align-items-center justify-content-between">
          <!-- Left side: Logo and Hamburger -->
          <div class="d-flex align-items-center">
            <!-- Hamburger button -->
            <button class="navbar-toggler me-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
              <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Brand/Logo -->
            <a class="navbar-brand d-flex align-items-center" href="../../">
              <img src="../../static/rlim.png"
                   alt="rlim"
                   class="logo-rlim me-2">
            </a>
          </div>

          <!-- Right side: Search Form (always visible) -->
          <div class="navbar-search-main w-50">
            <form class="search-form d-flex" action="../../search/" method="get">
              <div class="input-group">
                <input type="search"
                       class="form-control form-control-sm search-input"
                       name="q"
                       placeholder="Search..."
                       aria-label="Search">
                <button class="btn btn-sm search-btn" type="submit" aria-label="Search">  <!-- Added btn-sm -->
                  <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                  </svg>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Bootstrap Offcanvas -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
        <img src="../../static/rlim.png"
             alt="rlim"
             class="logo-rlim me-2">
      </h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="navbar-nav flex-grow-1">
        <li class="nav-item">
          <a class="nav-link"
             href="../../">Welcome</a>
        </li>
        
          <li class="nav-item">
            <a class="nav-link active"
               href="../">Blog</a>
          </li>
        
          <li class="nav-item">
            <a class="nav-link"
               href="../../search/">Search</a>
          </li>
        
          <li class="nav-item">
            <a class="nav-link"
               href="../../about/">About</a>
          </li>
        
      </ul>
    </div>
  </div>

  <div class="page">
    
  
  <div class="blog-post" data-pagefind-body>

  <div class="blog-post-header">
    
      <img src="image.png" alt="Main image for Bridge between Intel and Apple" class="main-image" />
    
    <div class="blog-post-header-content">
      
        <h1 data-pagefind-meta="title">Bridge between Intel and Apple</h1>
      
    </div>
  </div>

  <p class="meta">
    written by
    
      Ricky Lim
    
    on 2025-08-09
  </p>
  <p>Among developers, a familiar mantra echoes: “It works on my machine.”
Then came Docker — shifting the culture from “my machine” to “my container,” promising code that runs anywhere.</p>
<p>Well, not quite - when Apple and Intel started to diverge in their architecture.
Unfortunately, the M series chips that use ARM architecture is not <strong><em>yet</em></strong> compatible with Intel's x86 architecture.
Think of Apple Silicon and Intel chips as two separate islands, with their own unique languages.
On Intel island, you speak <code>x86</code>, while on Apple island everyone speaks <code>ARM64</code>.</p>
<h2>Translator needed to bridge the communication</h2>
<p>Just as Apple's Rosetta 2 translates x86 instructions to ARM64 on the fly, <strong>QEMU</strong> acts as a translator that enables ARM64 containers to run on x86 machines.
Without this translator, attempting to run an ARM64 Apple container on Intel machines would result in errors like:</p>
<pre><code class="lang-bash">exec format error # Translated as I don&#39;t speak that language
</code></pre>
<p>If you encounter this error, you're not alone.
I also ran into this issue when needed to build ARM64 images for deployment on AWS graviton while working on my Intel machine.</p>
<p>My solution was to use docker QEMU so I do not need to manually install QEMU and let Docker take care of it.</p>
<pre><code class="lang-bash"># Install QEMU, like deploying a team of expert translators for our diplomatic mission
docker run --privileged --rm tonistiigi/binfmt --install all
</code></pre>
<p>The <code>--privileged</code> flag is required as it needs to modify the host's kernel settings to register the QEMU binary formats.
It's like updating our communication policies, to ensure our translator works across different container architectures.</p>
<p>To verify the installation:</p>
<pre><code class="lang-bash">docker run --rm --platform=linux/arm64 alpine uname -m
</code></pre>
<p>If you see <code>aarch64</code> as the output, then the installation was successful.
The <code>aarch64</code> is the common identifier for ARM64 systems.</p>
<h2>Performance Trade-off</h2>
<p>While QEMU is a powerful translator, it also introduces some performance overhead as it emulates the ARM64 architecture on Intel machines.
This is why Intel users will experience a slower docker experience when running ARM64 containers during development.
The good news is that, once deployed to AWS Graviton, performance improves and costs can also be reduced.</p>
<h2>Key Takeaways</h2>
<ul>
<li>For consistent cross-platform run:</li>
</ul>
<pre><code># Install emulators once, however this does not survive restart so you need to run it again
docker run --privileged --rm tonistiigi/binfmt --install all
</code></pre>
<p>Protip: run <code>docker run &lt;IMAGE&gt; uname -m</code> to check the architecture.
If it return <code>X86_64</code>, then you are on Intel, if it echoes <code>AARCH64</code>, then you are on Apple Silicon.</p>
<ul>
<li>If you’re containerizing your application, don’t stop at just one architecture — build for both.</li>
</ul>
<pre><code class="lang-bash"># Kill two birds with one command
docker buildx build --platform linux/amd64,linux/arm64 -t &lt;my-awesome-app&gt;:multiarch .
</code></pre>
<p>By going multi-arch, you’re not just compiling code — you’re building bridges.
Your app becomes instantly accessible to users on both Intel and Apple Silicon, delivering a seamless, user-friendly experience no matter their machine.</p>
<blockquote><p>Build bridges not walls when you're shipping your applications.</p>
</blockquote>


  </div>


  </div>

  <footer>
    &copy; Copyright 2025 by Ricky Lim.
    <br>
    Proudly built using <a class="lektor-link" href="https://www.getlektor.com/">Lektor</a>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  
</body>
</html>
