<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="icon" type="image/x-icon" href="../../static/favicon.ico">
  <link rel="apple-touch-icon" href="../../static/favicon.png">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../../static/style.css">
  <link rel="stylesheet" href="../../static/search.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=0.6, user-scalable=no">

  <title>To Bridge, to Host, or Something Between: A Dockerian Network ‚Äî kutubuku</title>

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="container-fluid">
        <div class="d-flex w-100 align-items-center justify-content-between">
          <!-- Left side: Logo and Hamburger -->
          <div class="d-flex align-items-center">
            <!-- Hamburger button -->
            <button class="navbar-toggler me-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
              <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Brand/Logo -->
            <a class="navbar-brand d-flex align-items-center" href="../../">
              <img src="../../static/rlim.png"
                   alt="rlim"
                   class="logo-rlim me-2">
            </a>
          </div>

          <!-- Right side: Search Form (always visible) -->
          <div class="navbar-search-main w-50">
            <form class="search-form d-flex" action="../../search/" method="get">
              <div class="input-group">
                <input type="search"
                       class="form-control form-control-sm search-input"
                       name="q"
                       placeholder="Search..."
                       aria-label="Search">
                <button class="btn btn-sm search-btn" type="submit" aria-label="Search">  <!-- Added btn-sm -->
                  <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                  </svg>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Bootstrap Offcanvas -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
        <img src="../../static/rlim.png"
             alt="rlim"
             class="logo-rlim me-2">
      </h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="navbar-nav flex-grow-1">
        <li class="nav-item">
          <a class="nav-link"
             href="../../">Welcome</a>
        </li>
        
          <li class="nav-item">
            <a class="nav-link active"
               href="../">Blog</a>
          </li>
        
          <li class="nav-item">
            <a class="nav-link"
               href="../../search/">Search</a>
          </li>
        
          <li class="nav-item">
            <a class="nav-link"
               href="../../about/">About</a>
          </li>
        
      </ul>
    </div>
  </div>

  <div class="page">
    
  
  <div class="blog-post" data-pagefind-body>

  <div class="blog-post-header">
    
    <div class="blog-post-header-content">
      
        <h1 data-pagefind-meta="title">To Bridge, to Host, or Something Between: A Dockerian Network</h1>
      
    </div>
      <p class="meta">
        written by
        
          Ricky Lim
        
        on 2025-04-26
      </p>
  </div>

  <p>When it comes to Docker, understanding how containers communicate ‚Äî both with each other and the outside world ‚Äî is essential to building reliable applications.
One of the most important pieces of that puzzle is Docker networking.</p>
<p>In this post, we'll take a hands-on tour through the Docker CLI to learn how to manage networks effectively.
Then, we'll dive into two essential network types you‚Äôll encounter often: <strong>bridge</strong> and <strong>host</strong>. Let's get started!</p>
<h3>Managing Docker Networking ‚ôªÔ∏è</h3>
<p>Before diving deeper into the types of networks, it's important to know how to manage networks using Docker's CLI tools.</p>
<p>Here's a quick tour of the essential commands:</p>
<pre><code class="lang-bash"># Create network
docker network create mynetwork

# List network
docker network ls

# Inspect network
docker inspect mynetwork

# Connecting a container to a network
docker network connect mynetwork &lt;container_id&gt;

# Disconnecting a network
docker network disconnect mynetwork &lt;container_id&gt;

# Remove network
docker network rm mynetwork
</code></pre>
<h3>To Bridge or To Host üß©</h3>
<p>Imagine a research building with many labs.</p>
<h4>Bridge Network</h4>
<p>In this type, each container is a separate lab room.
Each lab has its own door and address.
Scientists can move between labs in the same building (host system),
but to reach the outside world (the internet), they must go through the main entrance - this is like <strong>port mapping</strong> in Docker.</p>
<p>Each room is still separate, so what happens in one rooom stays there without affecting the rest of the building.
Similarly, in bridge mode, each container is isolated yet connected within a private virtual network.</p>
<p>By default, Docker uses a bridge network.
It creates a virtual network (docker0) on the host and assigns an IP address (e.g 172.17.0.0/16) to each container.
Containers on the same bridge can talk to each other directly.
However, communicating with the host or the internet requires explicit port mapping.</p>
<p>Here's a simple example:</p>
<pre><code class="lang-bash">docker run -p 8080:80 nginx
</code></pre>
<p>The container is attached to Docker's default bridge network and port 8080 on the host is mapped to port 80 inside the container.</p>
<p>Open your browser and go to <a href="http://localhost:8080">http://localhost:8080</a> to access the web server.</p>
<h4>Host Network</h4>
<p>Now, imagine you're doing experiment in the building's main lobby, with no walls separating you from the rest of the building.
Everyone in the building (host system) can interact directly, without separation.</p>
<p>In this mode, the containers use the host network stack.
The containers share your machine IP address, and also could directly listen on a port of the host machine.</p>
<p>While this approach can offer better performance and simpler networking, it comes also with risks:
This mode is less secure as the container running has direct access to the host network resources üò±</p>
<h3>When Bridge isn't enough: Talking Back to the Host ü§î</h3>
<p>When a container runs on the bridge network, it's isolated from the host.
If a container tries to connect to localhost (127.0.01), it talks to itself, not the host machine.</p>
<p>In some cases, you need a container to talk back to the host - for example,
when running tests to let your containerized app to access services on your host machine (like the PostgreSQL container).</p>
<p>To solve this, you can add a specia entry to the containers <code>/etc/hosts</code> file:</p>
<pre><code class="lang-yaml">extra_hosts:
  - &quot;DOCKER_HOST:host-gateway&quot;
</code></pre>
<p>This maps <code>DOCKER_HOST</code> to the bridge gateway address, allowing the container to route traffic back to the host instead to itself.</p>
<p>An example of this setup in action can be found at: <a href="https://github.com/ricky-lim/pycontainer-demo">https://github.com/ricky-lim/pycontainer-demo</a></p>
<h2>Key takeways</h2>
<p>Choose your docker network mode based on your application's needs for isolation, performance, and host integration.</p>
<p>Bridge network offers private docker network isolation, and reserve host network for scenarios where direct access to the host netwrok is essential.</p>
<p>Use <code>extra_hosts</code> to bridge without to host, this enables controlled access from containers to the host without sacrificing the benefits of bridge isolation.</p>


  </div>


  </div>

  <footer>
    &copy; Copyright 2025 by Ricky Lim.
    <br>
    Proudly built using <a class="lektor-link" href="https://www.getlektor.com/">Lektor</a>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  
</body>
</html>
