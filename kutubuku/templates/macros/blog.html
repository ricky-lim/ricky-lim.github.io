{% macro render_blog_post(post, from_index=false) %}
  <div class="blog-post" data-pagefind-body>

  <div class="blog-post-header">
    {% if post.main_image %}
      <img src="{{ post.main_image|url }}" alt="Main image for {{ post.title }}" class="main-image" />
    {% endif %}
    <div class="blog-post-header-content">
      {% if from_index %}
        <h1 data-pagefind-meta="title"><a href="{{ post|url }}">{{ post.title }}</a></h1>
      {% else %}
        <h1 data-pagefind-meta="title">{{ post.title }}</h1>
      {% endif %}
    </div>
  </div>

  <p class="meta">
    written by
    {% if post.twitter_handle %}
      <a href="https://twitter.com/{{ post.twitter_handle }}">{{ post.author or post.twitter_handle }}</a>
    {% else %}
      {{ post.author }}
    {% endif %}
    on {{ post.pub_date }}
  </p>
  {{ post.body }}

  </div>
{% endmacro %}
